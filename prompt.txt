PROMPT BACKEND â€“ â€œEcoLearn Lojaâ€

TÃ­tulo del Proyecto: EcoLearn Loja â€“ Plataforma colaborativa universitaria sobre sostenibilidad
Responsable: Ismael GonzÃ¡lez
TecnologÃ­a Base: Node.js + Express + MongoDB (o MySQL, si se prefiere SQL)

ğŸ¯ Objetivo del Backend

DiseÃ±ar y desarrollar una API RESTful moderna, segura y escalable que sirva como backend del proyecto EcoLearn Loja, permitiendo la gestiÃ³n de usuarios, contenido multimedia, interacciones sociales y administraciÃ³n general del sistema.

ğŸ—ï¸ Estructura del Proyecto

El backend debe generarse con la siguiente estructura de carpetas y archivos:

EcoLearn-Backend/
â”‚
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ config/
â”‚   â”‚   â””â”€â”€ db.js               # ConexiÃ³n a la base de datos
â”‚   â”œâ”€â”€ controllers/            # Controladores para manejar la lÃ³gica de negocio
â”‚   â”œâ”€â”€ middlewares/            # Middlewares (autenticaciÃ³n, validaciones, etc.)
â”‚   â”œâ”€â”€ models/                 # Modelos de datos (Mongoose o Sequelize)
â”‚   â”œâ”€â”€ routes/                 # Rutas agrupadas por entidad
â”‚   â”œâ”€â”€ utils/                  # Utilidades (subida de archivos, manejo de errores, etc.)
â”‚   â””â”€â”€ app.js                  # ConfiguraciÃ³n principal del servidor Express
â”‚
â”œâ”€â”€ uploads/                    # Carpeta para almacenar archivos subidos
â”œâ”€â”€ .env                        # Variables de entorno (DB, JWT_SECRET, etc.)
â”œâ”€â”€ package.json
â””â”€â”€ server.js                    # Punto de entrada del servidor

ğŸ” Requisitos Funcionales del Backend
1. AutenticaciÃ³n y Roles

Registro y login de usuarios.

Roles: Estudiante, Docente, Administrador.

AutenticaciÃ³n con JWT.

EncriptaciÃ³n de contraseÃ±as con bcrypt.

2. GestiÃ³n de Usuarios

CRUD bÃ¡sico de usuarios (solo admin puede eliminar).

Perfil editable (nombre, correo, instituciÃ³n, foto de perfil).

3. GestiÃ³n de Contenido Multimedia

Subida de videos locales (MP4) o enlaces de YouTube.

AprobaciÃ³n de contenido por parte del administrador.

Modelos:

Video {
  titulo,
  descripcion,
  url_video,
  autor_id,
  aprobado (bool),
  fecha_creacion
}


ValidaciÃ³n de tipo de archivo y tamaÃ±o.

4. Interacciones Sociales

Comentarios por video.

Sistema de valoraciÃ³n (1â€“5 estrellas).

Solo usuarios registrados pueden comentar o valorar.

5. Panel del Usuario

Listar videos propios.

Editar o eliminar videos subidos.

6. Panel del Administrador

Listar todo el contenido.

Aprobar/rechazar videos.

Gestionar usuarios y estadÃ­sticas bÃ¡sicas (conteo de videos, usuarios activos, etc.).

âš™ï¸ TecnologÃ­as y LibrerÃ­as Sugeridas

Servidor: Node.js + Express

Base de datos: MongoDB (con Mongoose) o MySQL (con Sequelize)

AutenticaciÃ³n: JWT + bcrypt

GestiÃ³n de archivos: Multer

Variables de entorno: dotenv

ValidaciÃ³n: express-validator

CORS y seguridad: helmet, cors

DocumentaciÃ³n API: Swagger o Postman

ğŸ§© Endpoints Propuestos (Resumen)
MÃ³dulo	MÃ©todo	Ruta	DescripciÃ³n
Auth	POST	/api/auth/register	Registro de usuario
Auth	POST	/api/auth/login	Inicio de sesiÃ³n
Usuarios	GET	/api/users/	Listar usuarios (admin)
Usuarios	GET	/api/users/:id	Ver perfil
Videos	POST	/api/videos/	Subir video o enlace
Videos	GET	/api/videos/	Listar videos (pÃºblicos)
Videos	PUT	/api/videos/:id/approve	Aprobar video (admin)
Comentarios	POST	/api/videos/:id/comments	Agregar comentario
Valoraciones	POST	/api/videos/:id/rate	Valorar video
ğŸ§± Extras opcionales

Implementar control de versiones (Git).

AÃ±adir Swagger UI para documentaciÃ³n automÃ¡tica.

Configurar middleware global de errores.

Implementar paginaciÃ³n para listar videos.

Desplegar en Render, Railway o Vercel (solo backend).

ğŸ’¬ InstrucciÃ³n Final del Prompt

Crea el backend del proyecto EcoLearn Loja siguiendo la estructura, rutas y tecnologÃ­as descritas arriba. Implementa una API RESTful modular con autenticaciÃ³n JWT, manejo de roles y endpoints documentados. Incluye validaciones y controladores bÃ¡sicos para usuarios, videos, comentarios y valoraciones.